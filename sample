<!DOCTYPE html>
<html>
<head>
  <title>Complex BootstrapTable Example</title>
  <!-- Include necessary CSS and JavaScript files -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.css">
</head>
<body>
  <div class="container">
    <table id="myTable"></table>
  </div>

  <!-- Include necessary JavaScript files -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/bootstrap-table.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.12.1/extensions/editable/bootstrap-table-editable.min.js"></script>
  <script>
    $(document).ready(function () {
      $('#myTable').bootstrapTable({
        columns: [
          {
            field: 'name',
            title: 'Name'
          },
          {
            field: 'age',
            title: 'Age',
            editable: true,
            edittype: 'number' // Specify input type
          },
          {
            field: 'city',
            title: 'City',
            editable: {
              type: 'text', // Specify input type
              disabled: true // Make the cell disabled
            }
          },
          {
            field: 'email',
            title: 'Email',
            formatter: emailFormatter, // Custom formatter
            editable: {
              type: 'email', // Specify input type
              validate: function (value) {
                // Custom validation logic
                return /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(value);
              }
            }
          },
          {
            field: 'status',
            title: 'Status',
            editable: {
              type: 'select', // Specify input type
              source: [
                { value: 'active', text: 'Active' },
                { value: 'inactive', text: 'Inactive' }
              ]
            }
          },
          {
            field: 'actions',
            title: 'Actions',
            formatter: actionsFormatter // Custom formatter for buttons
          }
        ],
        data: [
          { name: 'John', age: 25, city: 'New York', email: 'john@example.com', status: 'active' },
          { name: 'Alice', age: 30, city: 'San Francisco', email: 'alice@example.com', status: 'inactive' },
          { name: 'Bob', age: 22, city: 'Los Angeles', email: 'bob@example.com', status: 'active' }
        ],
        escape: true,
        editable: true
      });
    });

    // Custom formatter for email field
    function emailFormatter(value) {
      return `<a href="mailto:${value}">${value}</a>`;
    }

    // Custom formatter for actions field
    function actionsFormatter(value, row) {
      return `
        <button class="btn btn-primary btn-sm edit-btn">Edit</button>
        <button class="btn btn-danger btn-sm delete-btn">Delete</button>
        <span class="badge bg-info">${row.status}</span>
      `;
    }
  </script>
</body>
</html>
